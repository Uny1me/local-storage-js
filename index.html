<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Local Storage Javascript</title>
        <!-- CSS only -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
            integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    </head>

    <body>
        <div class="mb-3 p-5">
            <label for="lead">Enter Your Name </label>
            <input type="text" class="storage" id="nameField">
            <p class="lead mt-3 text">Your Name:</p>
            <button class="btn btn-secondary">Save</button>
        </div>

    </body>
    <script>
        const storageInput = document.querySelector('.storage');
        const text = document.querySelector('.text');
        const button = document.querySelector('.btn');

        // Event Listener that listens to input
        storageInput.addEventListener('input', name => {
            text.textContent = name.target.value
        })

        // Saving to localstorage

        const saveToLocal = () => {
            // What this does is to save to localStorage the textContent of the paragraph field. But remember we are getting the textContent value from the input field.
            localStorage.setItem('textInput', text.textContent)
        }

        button.addEventListener('click', saveToLocal)

        const storedInput = localStorage.getItem('textInput')

        if (storageInput) {
            text.textContent = storedInput;
        }

        let region = {
            city: 'Lagos',
            locality: true,
            number: 8
        }

        let reg_serial = JSON.stringify(region);

        // console.log(reg_serial); 

        localStorage.setItem('region', reg_serial);
        // console.log(localStorage);

        // Getting The Object Deserialised

        let res_deserial = JSON.parse(localStorage.getItem('region'));

        console.log(res_deserial);

    </script>

</html>